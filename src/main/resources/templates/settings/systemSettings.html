<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragments/main_layout}">
    <head>
        <title>System Settings</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <div layout:fragment="pageStyle" th:remove="tag">
            <style>
                actiondots{
                    width: 100px;
                    height: 100px;
                    background-image: radial-gradient(circle, black 10px, transparent 11px);
                    background-size: 100% 33.33%;
                }
            </style>
            <link th:href="@{/assets/plugins/datatables/jquery.dataTables.min.css}" rel="stylesheet" type="text/css"/>
            <link th:href="@{/assets/plugins/datatables/buttons.bootstrap.min.css}" rel="stylesheet" type="text/css"/>
            <link th:href="@{/assets/plugins/datatables/responsive.bootstrap.min.css}" rel="stylesheet" type="text/css"/>
            <link th:href="@{/assets/plugins/datatables/scroller.bootstrap.min.css}" rel="stylesheet" type="text/css"/>
            <link th:href="@{/assets/plugins/datatables/dataTables.colVis.css}" rel="stylesheet" type="text/css"/>
            <link th:href="@{/assets/plugins/datatables/dataTables.bootstrap.min.css}" rel="stylesheet" type="text/css"/>
            <link th:href="@{/assets/plugins/datatables/fixedColumns.dataTables.min.css}" rel="stylesheet" type="text/css"/>
            <link th:href="@{/assets/plugins/bootstrap-datepicker/css/bootstrap-datepicker.min.css}" rel="stylesheet">
        </div>
        <div layout:fragment="contents">
            <div class="panel panel-default panel-fill" id="gwTxns">
                <div class="panel-heading panel-dark heading-border"> <h4 class="panel-title">GENERAL SYSTEM SETTINGS</h4></div>
                <div class="row p-t-50">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-md-12">   

                                <div class="form-group col-md-12">
                                    <button id="others" class="btn btn-primary pull-right" style="    background-color: #0a941b !important;border: 1px solid #ffffff !important;">Others</button>
                                    <button id="domainController" class="btn btn-primary pull-right" style="    background-color: #940a0a !important;border: 1px solid #ffffff !important;">Domain Controller </button>
                                    <button id="escalationMatrix" class="btn btn-primary pull-right" style="    background-color: #0a941b !important;border: 1px solid #ffffff !important;">Escalation Matrix</button>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <table id="domainController" class="table table-striped table-bordered"  style="width: 100%; font-size: 8.5px !important;">
                                    <thead>
                                        <tr>
                                            <th>S/N</th>
                                            <th>Reference</th>
                                            <th>Transaction Date</th>
                                            <th>Type</th>
                                            <th>source A/C</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div layout:fragment="pageScript" th:remove="tag">
            <script th:src="@{/assets/plugins/datatables/jquery.dataTables.min.js}"></script>
            <script th:src="@{/assets/plugins/datatables/dataTables.bootstrap.js}"></script>
            <script th:src="@{/assets/plugins/datatables/dataTables.buttons.min.js}"></script>
            <script th:src="@{/assets/plugins/datatables/buttons.bootstrap.min.js}"></script>
            <script th:src="@{/assets/plugins/datatables/jszip.min.js}"></script>
            <script th:src="@{/assets/plugins/datatables/pdfmake.min.js}"></script>
            <script th:src="@{/assets/plugins/datatables/vfs_fonts.js}"></script>
            <script th:src="@{/assets/plugins/datatables/buttons.html5.min.js}"></script>
            <script th:src="@{/assets/plugins/datatables/buttons.print.min.js}"></script>
            <script th:src="@{/assets/plugins/datatables/dataTables.keyTable.min.js}"></script>
            <script th:src="@{/assets/plugins/datatables/dataTables.responsive.min.js}"></script>
            <script th:src="@{/assets/plugins/datatables/responsive.bootstrap.min.js}"></script>
            <script th:src="@{/assets/plugins/datatables/dataTables.scroller.min.js}"></script>
            <script th:src="@{/assets/plugins/datatables/dataTables.colVis.js}"></script>
            <script th:src="@{/assets/plugins/datatables/dataTables.fixedColumns.min.js}"></script>
            <!-- init -->
            <script th:src="@{/assets/pages/jquery.datatables.init.js}"></script>
            <!-- App Js -->
            <script th:src="@{/assets/js/jquery.app.js}"></script>
            <script th:src="@{/assets/plugins/select2v4/select2.min.js}"></script>
            <script th:src="@{/assets/scripts/reconDashboard.js}"></script>
            <script th:src="@{/assets/scripts/settings.js}"></script>
            <script>
                $(document).ready(function () {
                    $("#domainController").on('click', function () {
                        $.ajax({
                            url: "/getDomainControllerAjax",
                            type: 'GET',
                            success: function (response) {
                                console.log('melleji')
                                $("#loading").hide();
                                $('#domainController').show();                                
                                $('#domainController').DataTable({
                                    "info": true,
                                    "bDestroy": true,
//                            dom: "Bfrtip",
                                    "data": response,
                                    "lengthChange": 1000,
                                    lengthMenu: [
                                        [10, 25, 50, 100, 250, 500, -1],
                                        ['10', '25', '50', '100', '250', '500', 'Show all']
                                    ],
                                    "columns": [
                                        {"data": "name"},
                                        {"data": "DN_IP"},
                                        {"data": "DN_PORT"},
                                        {"data": "DN_SEARCH_BASE"},
                                        {data: 'DN_IP',
                                            "orderable": false,
                                            "searchable": false,
                                            "render": function (data, type, row, meta) {
//                            var a = '<button ><img src="/assets/images/refund.png" style="width:20px;" title="Refund"></button>&nbsp;&nbsp;&nbsp;<button onclick="ambiguousTxns(\'' + row.txnid + '\')"><img src="/assets/images/ambiguous2.png" style="width:20px;" title="Ambiguous Transaction" ></button>&nbsp;&nbsp;&nbsp;<button type="button" onclick="confirmTxns(\'' + row.txnid + '\')"><img src="/assets/images/check.png" style="width:20px;" title="Confirm Transaction on CBS"></button><button ><input type="checkbox" style="margin-top:10%" id="' + row.terminal + '==' + row.txnid + '==' + row.sourceaccount + '==' + row.amount + '==' + row.pan + '==' + row.txndate + '" name="txndetails" /></button>';
                                                var a = "action";
                                                return a;
                                            }}
                                    ], buttons: [{
                                            extend: "copy",
                                            title: 'Core Banking Transactions',
                                            className: "btn-sm"
                                        }, {
                                            extend: "csv",
                                            title: 'Core Banking Transactions',
                                            className: "btn-sm"
                                        }, {
                                            extend: "excel",
                                            title: 'Core Banking Transactions',
                                            className: "btn-sm"
                                        }, {
                                            extend: "pdf",
                                            title: 'Core Banking Transactions',
                                            className: "btn-sm"
                                        }, {
                                            extend: "print",
                                            title: 'Core Banking Transactions',
                                            className: "btn-sm"
                                        }],
                                    responsive: !1,
                                });

                            },
                            error: function (errorMessage) {
                                console.log(errorMessage);
                                $("#loadings").hide();
                            }

                        });
                    });
                });

            </script>
        </div>
    </body>

</html>
