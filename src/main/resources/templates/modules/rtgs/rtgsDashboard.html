<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragments/main_layout}">
    <head>
        <title>TT/TISS Payment Dashboard</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <div layout:fragment="pageStyle" th:remove="tag">
            <link th:href="@{/assets/plugins/bootstrap-tagsinput/css/bootstrap-tagsinput.css}" rel="stylesheet" />
            <link rel="stylesheet" th:href="@{/assets/plugins/switchery/switchery.min.css}">
            <link th:href="@{/assets/plugins/select2/css/select2.min.css}" rel="stylesheet" type="text/css" />
            <link th:href="@{/assets/plugins/timepicker/bootstrap-timepicker.min.css}" rel="stylesheet">
            <link th:href="@{/assets/plugins/bootstrap-colorpicker/css/bootstrap-colorpicker.min.css}" rel="stylesheet">
            <link th:href="@{/assets/plugins/bootstrap-datepicker/css/bootstrap-datepicker.min.css}" rel="stylesheet">
            <link th:href="@{/assets/plugins/clockpicker/css/bootstrap-clockpicker.min.css}" rel="stylesheet">
            <link th:href="@{/assets/plugins/bootstrap-daterangepicker/daterangepicker.css}" rel="stylesheet">
        </div>
        <div class="container" layout:fragment="contents">
            <div class="container"><h2 style="margin-top: 12px; margin-bottom: 7px;background-color: #2b6331; padding: 10px;color: white;">TISS/TT PAYMENTS</h2></div>
            <div class="row">
                <div id="exTab2" class="container">	
                    <ul class="nav nav-tabs" style="    font-size: 10px !important;">
                        <li class="nav-item"  th:each="tabs:${paymentsPermissions}">
                            <a style="font-size: 10px !important;" th:href="@{'#'+${tabs.url}}" th:text="${tabs.name}"  th:data-url="${tabs.url}" data-toggle="tab" data-target="#tabContent" aria-expanded="true" id="tabContentsss"class="nav-link">
                                tab name
                            </a>
                        </li>
                        <li ><strong th:text="${session.txnDate}"></strong></li>
                    </ul>
                    <div class="row" id="preloader"> 
                        <img th:src="@{/assets/images/please_wait.gif}" alt="please wait"/>
                    </div>
                    <div class="tab-content">
                        <div id="tabContent">

                        </div>
                    </div>
                </div>
            </div>
            <hr/>
        </div>
    </div>
    <div layout:fragment="pageScript" th:remove="tag">
        <script th:src="@{/assets/plugins/bootstrap-tagsinput/js/bootstrap-tagsinput.min.js}"></script>
        <script th:src="@{/assets/plugins/select2/js/select2.min.js}" type="text/javascript"></script>
        <script th:src="@{/assets/plugins/bootstrap-filestyle/js/bootstrap-filestyle.min.js}" type="text/javascript"></script>
        <script th:src="@{/assets/plugins/switchery/switchery.min.js}"></script>
        <script type="text/javascript" th:src="@{/assets/plugins/parsleyjs/parsley.min.js}"></script>
        <script th:src="@{/assets/plugins/moment/moment.js}"></script>
        <script th:src="@{/assets/plugins/timepicker/bootstrap-timepicker.js}"></script>
        <script th:src="@{/assets/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js}"></script>
        <script th:src="@{/assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js}"></script>
        <script th:src="@{/assets/plugins/clockpicker/js/bootstrap-clockpicker.min.js}"></script>
        <script th:src="@{/assets/plugins/bootstrap-daterangepicker/daterangepicker.js}"></script>
        <script>
            $(document).ready(function () {
                $('#preloader').hide();
                $('#preloader2').hide();
                $('input[id$=datepicker-autoclose]').datepicker({dateFormat: 'yy-mm-dd'});
                /*  Submit form using Ajax */
                $('button[type=submit-validation]').click(function (e) {
                    $('#preloader2').show();
                    e.preventDefault();
                    $('input').next().remove();
                    var controlNo = $("input[name='control_No']").val();
                    $.ajax({
                        url: "/queryBill",
                        type: 'GET',
                        data: {controlNo: controlNo},
                        success: function (res) {
                            console.log("======res", res);
                            $('#validationResponse').html(res).fadeIn(400).show();
                        }
                    })
                });
                $('[data-toggle="tab"]').click(function (e) {
                    $("#preloader").show();
                    var $this = $(this),
                            loadurl = $this.attr('data-url');

                    // console.log("=====data url", $this.attr('data-url'))
                    $.ajax({
                        url: loadurl,
                        type: 'GET',
                        success: function (res) {
                            // console.log("=======ajax response", res)
                            $("#preloader").hide();
                            $("#tabContent").html(res).return;
                        }
                    });
                });
            });
            function myFunction() {
                alert('here here/.......');
            }
            function makeNewPayments() {
                $('#moduleDashboard').hide();
                $('#billDetails').show();
            }
        </script>
    </div>
</body>
</html>
