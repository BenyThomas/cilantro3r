<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragments/main_layout}">
    <head>
        <title>Lookup Mobile Registration</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <div layout:fragment="pageStyle" th:remove="tag">
            <link th:href="@{/assets/plugins/datatables/jquery.dataTables.min.css}" rel="stylesheet" type="text/css"/>
            <link th:href="@{/assets/plugins/datatables/buttons.bootstrap.min.css}" rel="stylesheet" type="text/css"/>
            <link th:href="@{/assets/plugins/datatables/responsive.bootstrap.min.css}" rel="stylesheet" type="text/css"/>
            <link th:href="@{/assets/plugins/datatables/scroller.bootstrap.min.css}" rel="stylesheet" type="text/css"/>
            <link th:href="@{/assets/plugins/datatables/dataTables.colVis.css}" rel="stylesheet" type="text/css"/>
            <link th:href="@{/assets/plugins/datatables/dataTables.bootstrap.min.css}" rel="stylesheet" type="text/css"/>
            <link th:href="@{/assets/plugins/datatables/fixedColumns.dataTables.min.css}" rel="stylesheet" type="text/css"/>
            <link th:href="@{/assets/plugins/bootstrap-datepicker/css/bootstrap-datepicker.min.css}" rel="stylesheet">
        </div>
        <div class="row">
            <div class="col-sm-12">
                <div layout:fragment="contents" id="reconData">
                    <div class="panel panel-default panel-fill"  >
                        <div class="panel-heading"> <h4 class="panel-title">CONFIRM POPOTE (MOBILE BANKING)  REGISTRATION</h4></div>
                        <div class="panel-body">
                            <form role="form" action="/lookupMobileRegistration" method="GET">
                                <div class="row">
                                    <div class="form-group col-md-9">
                                        <input name="msisdn" class="form-control form-control-inline col-md-9" placeholder="Registered Mobile Number eg. 255713999934" required="">
                                    </div>
                                    <div class="form-group col-md-3 text-right m-b-0" style="">
                                        <button  type="submit" class="btn btn-info btn-submit">Search</button>
                                    </div>
                                </div>
                            </form>
                            <div class="row">
                                <h4 style="margin-top: 20px; margin-bottom: 10px;background-color: #585858;padding: 15px;color: white;">REGISTERED ACCOUNTS ON GATEWAY</h4>
                                <!--<form>-->
                                <table id="" class="table table-striped table-bordered"  style="width: 100%; font-size: 8.5px !important;">
                                    <thead>
                                        <tr>
                                            <th>Phone No</th>
                                            <th>AccountNo</th>
                                            <th>Account Name</th>
                                            <th>imsi</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr th:each="gwRecord:${gwRecords}">
                                            <td th:text="${gwRecord.msisdn}"></td>
                                            <td th:text="${gwRecord.account}"></td>
                                            <td th:text="${gwRecord.accountName}"></td>
                                            <td th:text="${gwRecord.imsi}" th:with="gwimsi=${gwRecord.imsi}"></td>
                                            <td th:text="${gwRecord.status}"></td>
                                        </tr>
                                    </tbody>
                                </table>
                                <!--</form>-->
                            </div>
                            <div class="row">
                                <h4 style="margin-top: 20px; margin-bottom: 10px;background-color: #2b6331; padding: 15px;color: white;">REGISTERED ACCOUNTS ON RUBIKON (CBS)</h4>
                                <!--<form>-->
                                <table  class="table table-striped table-bordered"  style="width: 100%; font-size: 8.5px !important;">
                                    <thead>
                                        <tr>
                                            <th>Phone No</th>
                                            <th>AccountNo</th>
                                            <th>Account Name</th>
                                            <th>imsi</th>
                                            <th>First Status</th>
                                            <th>Second Status</th>
                                            <th>Account Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr th:each="rubikonRecord:${rubikonRecords}">
                                            <td th:text="${rubikonRecord.msisdn}"></td>
                                            <td th:text="${rubikonRecord.acctNo}"></td>
                                            <td th:text="${rubikonRecord.accessName}"></td>
                                            <td th:text="${rubikonRecord.imsi}" th:with="cbsImsi=${rubikonRecord.imsi}"></td>
                                            <td th:text="${rubikonRecord.status}"></td>
                                            <td th:text="${rubikonRecord.status2}"></td>
                                            <td th:text="${rubikonRecord.acctStatus}"></td>
                                        </tr>
                                    </tbody>
                                </table>
                                <!--</form>-->
                            </div>
                            <div class="row">
                                <h4 style="margin-top: 20px; margin-bottom: 10px;background-color: #2b6331; padding: 15px;color: white;">LAST 10 TRANSACTIONS/ATTEMPT PERFORMED </h4>
                                <!--<form>-->
                                <table id="" class="table table-striped table-bordered"  style="width: 100%; font-size: 8.5px !important;">
                                    <thead>
                                        <tr>
                                            <th>txnid</th>
                                            <th>txndate</th>
                                            <th>Amount</th>
                                            <th>Reference</th>
                                            <th>Source A/C</th>
                                            <th>Destination A/C</th>
                                            <th>Description</th>
                                            <th>Service Name</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr th:each="txn:${last10Txns}">
                                            <td th:text="${txn.txnid}"></td>
                                            <td th:text="${txn.txndate}"></td>
                                            <td th:text="${txn.amount}"></td>
                                            <td th:text="${txn.reference}"></td>
                                            <td th:text="${txn.sourceAcct}"></td>
                                            <td th:text="${txn.destinationAcct}"></td>
                                            <td th:text="${txn.description}"></td>
                                            <td th:text="${txn.serviceName}"></td>
                                            <td th:text="${txn.txstatusdesc}"></td>
                                        </tr>
                                    </tbody>
                                </table>
                                <!--</form>-->
                            </div>
                            <div class="row" id="preloader2"> 
                                <img th:src="@{/assets/images/please_wait.gif}" alt="please wait"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div layout:fragment="pageScript" th:remove="tag">
            <script th:src="@{/assets/plugins/datatables/jquery.dataTables.min.js}"></script>
            <script th:src="@{/assets/plugins/datatables/dataTables.bootstrap.js}"></script>
            <script th:src="@{/assets/plugins/datatables/dataTables.buttons.min.js}"></script>
            <script th:src="@{/assets/plugins/datatables/buttons.bootstrap.min.js}"></script>
            <script th:src="@{/assets/plugins/datatables/jszip.min.js}"></script>
            <script th:src="@{/assets/plugins/datatables/pdfmake.min.js}"></script>
            <script th:src="@{/assets/plugins/datatables/vfs_fonts.js}"></script>
            <script th:src="@{/assets/plugins/datatables/buttons.html5.min.js}"></script>
            <script th:src="@{/assets/plugins/datatables/buttons.print.min.js}"></script>
            <script th:src="@{/assets/plugins/datatables/dataTables.keyTable.min.js}"></script>
            <script th:src="@{/assets/plugins/datatables/dataTables.responsive.min.js}"></script>
            <script th:src="@{/assets/plugins/datatables/responsive.bootstrap.min.js}"></script>
            <script th:src="@{/assets/plugins/datatables/dataTables.scroller.min.js}"></script>
            <script th:src="@{/assets/plugins/datatables/dataTables.colVis.js}"></script>
            <script th:src="@{/assets/plugins/datatables/dataTables.fixedColumns.min.js}"></script>
            <!-- init -->
            <script th:src="@{/assets/pages/jquery.datatables.init.js}"></script>
            <!-- App Js -->
            <script th:src="@{/assets/js/jquery.app.js}"></script>
            <script th:src="@{/assets/plugins/select2v4/select2.min.js}"></script>
            <script>
                $(document).ready(function () {
                    $('#preloader').hide();
                    $('#preloader2').hide();
                })
            </script>
        </div>
    </body>
</html>
